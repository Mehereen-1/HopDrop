<!-- <?php
function loadQueries($filePath) {
    $queries = [];
    $content = file_get_contents($filePath);
    $blocks = preg_split('/--\s*name:\s*/i', $content);

    foreach ($blocks as $block) {
        if (trim($block) === '') continue;
        $lines = explode("\n", trim($block), 2);
        $name = trim($lines[0]);
        $sql  = trim($lines[1]);
        $queries[$name] = $sql;
    }

    return $queries;
}
?> -->


<?php foreach ($assignments as $a): ?>
                <div class="bg-white p-4 rounded-2xl shadow-md">
                    <h3 class="font-semibold text-lg text-gray-800">Assignment ID: <?= htmlspecialchars($a['assignment_id']) ?></h3>
                    <p class="text-gray-600 mb-2">Status: <?= htmlspecialchars($a['status']) ?></p>
                    <p class="text-gray-600 mb-2">Deliveryman: <?= htmlspecialchars($a['deliveryman_name'] ?? '-') ?></p>
                    
                    <h4 class="font-medium text-gray-700 mb-1 mt-2">Route Progress:</h4>
                    <?php if (!empty($routes[$a['assignment_id']])): ?>
                        <ol class="list-decimal pl-6 space-y-1">
                            <?php foreach ($routes[$a['assignment_id']] as $r): ?>
                                <li>
                                    <span class="font-medium"><?= htmlspecialchars($r['location']) ?></span>
                                    (Lat: <?= htmlspecialchars($r['latitude']) ?>, Lng: <?= htmlspecialchars($r['longitude']) ?>)
                                    <span class="text-sm text-gray-400">â€” <?= htmlspecialchars($r['timestamp']) ?></span>
                                </li>
                            <?php endforeach; ?>
                        </ol>
                    <?php else: ?>
                        <p class="text-gray-500">No route updates yet.</p>
                    <?php endif; ?>
                </div>
            <?php endforeach; ?>